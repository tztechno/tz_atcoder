###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
[cgpt]

**ã©ã†ã‚„ã£ã¦ã€Œå°ã•ã„æ–¹ã‹ã‚‰ N ç•ªç›®ã®å›æ–‡æ•°ã€ã‚’æ±‚ã‚ã¦ã„ã‚‹ã‹** 

---

## 1. æ¡æ•°ã”ã¨ã«å›æ–‡æ•°ã®å€‹æ•°ã‚’æ•°ãˆã‚‹

å›æ–‡æ•°ã¯ã€Œå‰åŠã‚’æ±ºã‚ã‚Œã°æ®‹ã‚ŠãŒæ±ºã¾ã‚‹ã€æ€§è³ªã‚’ä½¿ã„ã¾ã™ã€‚

* **1æ¡**
  â†’ 0,1,2,â€¦,9 ã® 10 å€‹
* **2æ¡**
  â†’ 11,22,â€¦,99 ã® 9 å€‹
* **3æ¡**
  â†’ 101,111,121,â€¦,999 ã® 90 å€‹
* **4æ¡**
  â†’ 1001,1111,â€¦,9999 ã® 90 å€‹
* **5æ¡**
  â†’ 10001,10011,â€¦,99999 ã® 900 å€‹

ä¸€èˆ¬å¼ï¼š

* æ¡æ•° $d$ ã®å›æ–‡æ•°ã®å€‹æ•°ã¯

  $$
  \text{count}(d) = 
  \begin{cases}
  10 & (d=1) \\
  9 \times 10^{\lceil d/2 \rceil - 1} & (d \geq 2)
  \end{cases}
  $$

---

## 2. N ãŒå±ã™ã‚‹æ¡æ•°ã‚’æ±ºã‚ã‚‹

å°ã•ã„æ¡ã‹ã‚‰é †ã«ã€Œå›æ–‡ã®å€‹æ•°ã€ã‚’ç´¯ç©ã—ã¦ã„ãã€
ã€ŒN ãŒå«ã¾ã‚Œã‚‹æ¡æ•° $d$ã€ã‚’æ¢ã—ã¾ã™ã€‚

ä¾‹ï¼š

* $N=15$

  * 1æ¡ã«ã¯ 10 å€‹ã‚ã‚‹ â†’ ã¾ã è¶³ã‚Šãªã„
  * æ®‹ã‚Š 5 â†’ 2æ¡ã®å›æ–‡ã®ä¸­ã«ã‚ã‚‹
    â†’ **2æ¡ç›®ã®5ç•ªç›®** ãŒç­”ãˆ

---

## 3. æ¡æ•° d å†…ã§ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æ±‚ã‚ã‚‹

$N - \text{(ã“ã‚Œã¾ã§ã®ç´¯ç©)}$ ã§ã€Œd æ¡å†…ã§ã®é †ä½ã€ã‚’è¨ˆç®—ã€‚

---

## 4. å‰åŠã®æ•°å­—ã‚’æ±ºã‚ã‚‹

* å›æ–‡ã¯ã€Œå‰åŠéƒ¨åˆ†ã€ã‚’æ±ºã‚ã‚Œã°è‡ªå‹•çš„ã«å®Œæˆã™ã‚‹ã€‚
* æ¡æ•° $d$ã€å‰åŠé•· $m = \lceil d/2 \rceil$ã€‚
* $d=1$ ã®å ´åˆ â†’ half = index-1ï¼ˆ0ã‹ã‚‰å§‹ã¾ã‚‹ï¼‰ã€‚
* $d \geq 2$ ã®å ´åˆ â†’ half = $10^{m-1} + (index-1)$ã€‚

ä¾‹: $d=2$ã€index=5

* half = 1 + 4 = 5
* â†’ å›æ–‡ = "55"

---

## 5. å›æ–‡ã‚’æ§‹ç¯‰

* å¶æ•°æ¡: **å‰åŠ + å‰åŠã‚’é€†é †ã«ãã£ã¤ã‘ã‚‹**
* å¥‡æ•°æ¡: **å‰åŠ + (å‰åŠã®æœ€å¾Œã®æ¡ã‚’é™¤ã„ãŸéƒ¨åˆ†ã‚’é€†é †ã«ãã£ã¤ã‘ã‚‹)**

ä¾‹:

* half=12, d=4 â†’ "12" + "21" = 1221
* half=123, d=5 â†’ "123" + "21" = 12321

---

## ã¾ã¨ã‚

* **æ¡æ•°ã”ã¨ã«å›æ–‡æ•°ã‚’åˆ†é¡ã—ã¦æ•°ãˆã‚‹**
* **N ãŒå±ã™ã‚‹æ¡æ•°ã‚’æ±ºã‚ã‚‹**
* **å‰åŠã‚’è¨ˆç®—ã—ã€å›æ–‡ã‚’æ§‹ç¯‰ã™ã‚‹**

ã“ã‚Œã«ã‚ˆã‚Š $N \leq 10^{18}$ ã®å¤§ããª N ã§ã‚‚ã€æ¡æ•°ã®è¨ˆç®—ã ã‘ã§å³åº§ã«ç­”ãˆãŒå‡ºã›ã¾ã™ ğŸš€

---

###############################################
[cgpt]
def nth_palindrome(N: int) -> int:
    d = 1
    total = 0
    while True:
        if d == 1:
            count = 10
        else:
            m = (d + 1) // 2
            count = 9 * (10 ** (m - 1))
        if total + count >= N:
            break
        total += count
        d += 1
    index = N - total
    m = (d + 1) // 2
    if d == 1:
        half = index - 1
    else:
        start = 10 ** (m - 1)
        half = start + (index - 1)

    s = str(half)
    if d % 2 == 0:
        return int(s + s[::-1])
    else:
        return int(s + s[:-1][::-1])


if __name__ == "__main__":
    N = int(input().strip())
    print(nth_palindrome(N))
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
###############################################
