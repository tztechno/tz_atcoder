##################################
//G
##################################
//F
##################################
//E
##################################
//D
##################################
//C
##################################
//B
##################################
//A
from atcoder.dsu import DSU
n,q=map(int,input().split())
d=DSU(n)
for i in range(q):
    t,u,v=map(int,input().split())
    if t==0:
        d.merge(u,v)
    else:
        if d.same(u,v):
            print(1)
        else:
            print(0)

##################################      
